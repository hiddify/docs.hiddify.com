[**🇺🇸 English**](https://docs.hiddify.com/Hiddify-Manager.wiki/What-is-CDN-and-how-does-it-help-us%3F)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://github.com/hiddify/hiddify-config/wiki/%D9%87%D9%85%D9%87-%D8%A2%D9%85%D9%88%D8%B2%D8%B4%E2%80%8C%D9%87%D8%A7-%D9%88-%D9%88%DB%8C%D8%AF%D8%A6%D9%88%D9%87%D8%A7"><img width="100" src="https://github.com/hiddify/hiddify-config/assets/125398461/3704cd84-eee6-4c45-abe7-3c02936bbebb" /></a>

<div dir="rtl" markdown=1>

# سی‌دی‌ان چیست و چه کمکی به ما می‌کند؟

تا به حال به این مورد فکر کرده‌اید که `CDN` چیست و چرا برای پیاده‌سازی برخی فیلترشکن‌ها به آن نیاز داریم؟ در کل `CDN` برای دور زدن فیلترینگ چه کمکی به ما ‌می‌کند؟
در این مطلب قصد داریم نگاه کلی به ساختار `CDN` و نحوه‌ی عملکرد آن بیندازیم و در پایان به این سوال پاسخ دهیم تا با دید بازتری برای پیکربندی و پیاده‌سازی آن اقدام کنید. پس اگر آشنایی با نحوه‌ی کارکرد آن ندارید تا آخر این پست همراه ما باشید.

## نگاه کلی به عملکرد CDN

سی‌دی‌ان یا شبکه‌ی توزیع محتوا `Content Delivery Network` مجموعه‌ای از سرورهای به هم متصل شده در سراسر دنیا است که وظیفه‌ی انتقال سریع داده‎ها را بر عهده دارند. در شبکه‌ی توزیع محتوا داده‌های قرار گرفته شده بر روی وب‌سایت‌ یا برنامه‌ها در سرورهای `CDN` کش یا ذخیره شده و به کاربران سراسر دنیا اجازه می‌دهد با سرعت بیشتری با آن وب‌سایت یا برنامه تبادل اطلاعات داشته باشند. همچنین به دلیل ماهیت آن پینگ و جیتر را نیز کاهش می‌دهد، اما این امر چگونه میسر می‌شود؟ فرض کنید شما در ایران نیاز به بازدید از یک وب‌سایت یا تبادل اطلاعات از طریق برنامه‌ای خاص با آمریکا را دارید. در صورتی که پلتفرم مقصد شما از `CDN` استفاده نکند، برای تبادل اطلاعات می‌بایست پکت ارسال شده کل مسیر شبکه‌ تا مقصد را طی کرده تا درخواست را تحویل دهد و این پروسه مجددا برای برگشت پکت‌ها هم بایستی انجام شود. طبیعتا در این سناریو به دلیل طولانی بودن مسافت و فاصله‌ی کاربر تا سرور اصلی، امکان ارسال و دریافت با سرعت بالا وجود نخواهد داشت و تاخیر در بارگذاری و لود شدن صفحات بوضوح قابل مشاهده‌ست.
با این‌حال اگر در سناریو فوق از شبکه‌ی توزیع محتوا استفاده شود، تمامی داده‌های آن پلتفرم در سرورهای Origin یا لبه سرویس‌دهنده ذخیره و کاربر بر اساس منطقه‌ی جغرافیایی خود به نزدیک‌ترین سرور لبه متصل شده و با سرعت بیشتر و تاخیر کمتر، نسبت به تبادل اطلاعات با مقصد اقدام می‌کند. در تصویر زیر شمای کلی از این سناریو را مشاهده می‌کنید.

<div align=center markdown=1>
![photo_2023-06-07_20-03-37](https://github.com/hiddify/hiddify-config/assets/125398461/d0e44fdf-b494-4881-ad99-13d5824a9f83)
</div>

حال ممکن است این سوال برای شما مطرح شود که با این حساب در راه‌اندازی فیلترشکن چه نیازی به استفاده از این شبکه‌ی توزیع محتواست؟
در بالا به یکی از فواید استفاده از این تکنولوژی اشاره کردیم، اما ماجرا به همینجا ختم نمی‌شود. نکته مهم و حیاتی که برای راه‌اندازی سرورهای فیلترشکن در این بستر از آن استفاده می‌شود، عدم مشخص شدن آیپی سرور شما از دید نهادهای نظارتی و سامانه‌های فیلترینگ است. همانطور که در بالا اشاره شد کاربر در حین تبادل اطلاعات با سرور مقصد به جای ارتباط مستقیم به Origin Servers متصل شده و این سرورهای لبه مسئولیت تبادل اطلاعات با سرور اصلی را به عهده می‌گیرند. با این حساب آیپی سرور شما از دید نهادهای نظاره‌گر دولتی مخفی مانده و فیلتر شدن آن به طرز چشمگیری غیر ممکن می‌شود!
بیایید به‌صورت عملی هم تست و نتیجه را مشاهده کنیم. در اینجا ما یک رکورد A در کلادفلر ایجاد کرده و پراکسی (قابلیت استفاده از CDN) برای آن را خاموش می‌کنیم تا ساب‌دامین ایجاد شده از قابلیت `CDN` استفاده نکرده و مستقیما با سرور اصلی در ارتباط باشد.

<div align=center markdown=1>
![photo_2023-06-07_20-04-15](https://github.com/hiddify/hiddify-config/assets/125398461/09f0c5f3-e5d0-41c6-81da-ac3e016ebc6b)

</div>

سپس از سابدامین ایجاد شده پینگ بگیرید:

<div align=center markdown=1>
![244136935-16868a83-6991-43f2-9969-1802801eb12f](https://github.com/hiddify/hiddify-config/assets/125398461/bc5757b6-001a-4b08-a678-5264fe60e51b)

</div>

همانطور که در تصویر بالا مشاهده می‌کنید، آیپی اصلی سرور در این حالت مشخص و فیلتر کردن آن به راحتی امکان پذیر است.
در تست بعدی گزینه‌ی پراکسی را برای سابدامین ایجاد شده فعال کرده و نتایج را با هم مقایسه می‌کنیم:

<div align=center markdown=1>
![photo_2023-06-07_20-04-54](https://github.com/hiddify/hiddify-config/assets/125398461/0705bdaf-2e9a-4f3a-9c76-e966d5b2db6c)
</div>

<div align=center markdown=1>
![photo_2023-06-07_20-05-11](https://github.com/hiddify/hiddify-config/assets/125398461/fa4c2070-3d9c-4e04-9fce-46d3bf501998)

</div>

در این حالت خروجی تست دیگر آیپی سرور اصلی نیست، بلکه آیپی سرورهای لبه‌ای را مشاهده می‌کنید که نزدیک‌ترین فاصله را به شما داشته و به آن متصل شده‌اید.
همچنین برای درک بهتر چگونگی کاهش پینگ و جیتر و افزایش سرعت در حالت استفاده از سی‌دی‌ان، اقدام به بررسی مسیر طی شده پکت‌ها `Tracing Route` کردیم. تصاویر زیر گویای این مسأله‌ است که در هنگام استفاده از CDN مسیر دسترسی به سرور بسیار کوتاه‌تر شده، به‌طوری که در این مثال پکت‌ها در حالت مستقیم از ۱۰ روتر بیشتر عبور می‌کنند و همین مسئله باعث تاخیر بیشتر و کاهش سرعت و عملکرد آن می‌باشد.

<div align=center markdown=1>
![photo_2023-06-07_20-05-37](https://github.com/hiddify/hiddify-config/assets/125398461/a257a199-b7f7-48a5-8734-2364c9338326)
</div>

<div align=center markdown=1>
![photo_2023-06-07_20-05-46](https://github.com/hiddify/hiddify-config/assets/125398461/ebca35d6-0ffa-4ec1-8bf7-87fda03aed7c)
</div>

## دلیل فیلتر نشدن کامل کلادفلر

حال ممکن است این سوال برایتان پیش بیاید که با این وجود چرا نهادهای دولتی اقدام به فیلترینگ کامل کلادفلر نکرده‌اند و اختلالات دیگری در آیپی‌های تحت نظر آن اعمال شده است؟ لازم به ذکر است کلادفلر یکی از بزرگترین و بی‌نظیرترین شبکه‌های توزیع محتوا در جهان است که خدمات و ابزارهای زیادی را در اختیار کاربران قرار می‌دهد. بسیاری از وب‌سایت‌ها و سرویس دهنده‌های ایرانی نیز از خدمات آن استفاده می‌کنند و در صورت فیلتر شدن کامل کلادفلر، دسترسی به بخش عظیمی از خدمات و سرویس‌های ایرانی نیز مسدود می‌شود. به همین دلیل نهادهای نظارتی از طریق روشهای دیگر برای ایجاد اختلال بر روی این بستر اقدام می‌کنند.
